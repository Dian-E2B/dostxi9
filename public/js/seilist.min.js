jQuery(document).ready(function(a){a("#submitButton").click(function(){var e=a("#startYear").val(),t=parseInt(e)+1,d=e+" - "+t;a("#divToUpdate").text(d)});var e=a("#thisdatatable").DataTable({scrollResize:!0,pageResize:!0,processing:!0,serverSide:!0,pageLength:25,fixedHeader:!1,scrollX:!0,select:!1,ajax:{url:dataTableUrl,type:"GET"},columns:[{data:"lname"},{data:"fname"},{data:"mname"},{data:"spasno"},{data:"email"},{data:"app_id"},{data:"strand"},{data:"progname"},{data:"gendername",render:function(a,e,t){var d='<span style="padding-right: 10px;">'+a+"</span>";return d}},{data:"bday"},{data:"mobile"},{data:"houseno"},{data:"street"},{data:"village"},{data:"barangay"},{data:"municipality"},{data:"province"},{data:"zipcode"},{data:"district"},{data:"region"},{data:"hsname"},{data:"remarks"},{data:"scholar_status_id"},{data:null,orderable:!1,searchable:!1,className:"action-column",render:function(a,e,t){var d=t.id;return'<a class="table-edit" data-id="'+d+'"><i class="fas fa-edit"></i></a>'}}],scrollX:!0,order:[[1,"asc"]],fixedColumns:{right:1,left:1},columnDefs:[{targets:"action-column",className:"text-center"},{targets:[0,1,2,3,4,5,6,7,8,,9,,10,11,12,13,14,15,16],orderable:!1},{visible:!1,searchable:!0,targets:22}],createdRow:function(e,t,d){"0"!=t.scholar_status_id&&a(e).find("td:first-child").css("color","green").css("font-weight","bold")},drawCallback:function(e){var t=this.api();t.columns([6,7,8,15,16]).every(function(e){var d=this,l=a(t.column(e).header()).text(),i=d.header().querySelector("select");i&&0!==i.options.length||(i=document.createElement("select"),i.style.padding="1px",i.add(new Option(" "+l,"")),d.header().replaceChildren(i),i.addEventListener("change",function(){var a=DataTable.util.escapeRegex(i.value);d.search(a?"^"+a+"$":"",!0,!1).draw()}),d.data().unique().sort().each(function(a,e){a!==l&&i.add(new Option(a))}))})}});a(document).on("click",".table-edit",function(){var t=a(this).data("id");let d=new bootstrap.Modal("#editModal");d.show(),a.ajax({url:"{{ url("/get-seilistrecord/") }}"+"/"+t,method:"GET",success:function(e){a("#editModal #IdField").val(e.id),a("#editModal #AppIDField").val(e.app_id),a("#editModal #EmailField").val(e.email),a("#editModal #RemarksField").val(e.remarks),a("#editModal #ProgramField").val(e.program_id),a("#editModal #StrandField").val(e.strand),a("#editModal #ContactField").val(e.mobile),a("#editModal #SurnameField").val(e.lname),a("#editModal #FirstnameField").val(e.fname),a("#editModal #MiddlenameField").val(e.mname),a("#editModal #DistrictField").val(e.district)},error:function(a){console.error("Error fetching data for editing:",a)}}),a("#editModal").on("hidden.bs.modal",function(){a(this).trigger("reset")}),a("#saveChangesBtn").off("click").click(function(){var d=document.querySelector("#ProgramField"),l=document.querySelector("#GenderField"),i=(parseInt(d.value,10),parseInt(l.value,10),{app_id:a("#editModal #AppIDField").val(),email:a("#editModal #EmailField").val(),program_id:a("#editModal #ProgramField").val(),remarks:a("#editModal #RemarksField").val(),strand:a("#editModal #StrandField").val(),mobile:a("#editModal #ContactField").val(),lname:a("#editModal #SurnameField").val(),fname:a("#editModal #FirstnameField").val(),mname:a("#editModal #MiddlenameField").val(),gender_id:a("#editModal #GenderField").val()});a.ajax({url:"{{ url("/savechangesseilist/") }}"+"/"+t,method:"POST",data:i,headers:{"X-CSRF-TOKEN":a('meta[name="csrf-token"]').attr("content")},success:function(t){Swal.fire({icon:"success",title:"",text:"Record has been edited"});a("#thisdatatable").DataTable();e.ajax.reload(null,!1),a("#editModal input").val(""),a("#editModal").modal("hide")},error:function(a){console.error("Error saving changes:",a)}})})}),a("#yearForm").on("submit",function(t){t.preventDefault();var d=a(this).find('select[name="startYear"]').val();e.ajax.url("seilistviewajax?startYear="+d).load()})});